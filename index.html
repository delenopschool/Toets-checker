<!DOCTYPE html>
<html lang="nl">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Alarm pagina</title>
<style>
  body {
    margin: 0;
    height: 100vh;
    background-color: green;
    transition: background-color 0.5s ease;
  }
  body.knipper {
    animation: knipperen 1s infinite;
  }
  @keyframes knipperen {
    0% { background-color: red; }
    50% { background-color: transparent; }
    100% { background-color: red; }
  }
</style>
</head>
<body>

<script>
  const body = document.body;

function startAlarm(triggerType) {
  body.classList.add('knipper');
  const now = new Date().toLocaleString();
  console.log(`ALARM AAN (${triggerType}) op ${now}`);
}

function stopAlarm() {
  if (body.classList.contains('knipper')) {
    body.classList.remove('knipper');
    const now = new Date().toLocaleString();
    console.log(`Alarm UIT op ${now}`);
  }
}

// Event voor zichtbaarheid
document.addEventListener('visibilitychange', () => {
  if (document.hidden) {
    startAlarm('visibilitychange (vermist zicht)');
  } else {
    stopAlarm();
  }
});

// Event voor focus
window.addEventListener('blur', () => {
  startAlarm('blur');
});
window.addEventListener('focus', () => {
  stopAlarm();
});
</script>

</body>
</html>
